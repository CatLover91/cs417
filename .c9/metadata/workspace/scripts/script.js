{"changed":true,"filter":false,"title":"script.js","tooltip":"/scripts/script.js","value":"$(function() {\n    var aRandomNumber = function() {\n        var result = Math.floor((Math.random() * 2000000) + 1);\n        result = (result - 1000000) / 10000;\n        return result;\n    };\n    \n    var omega = function() {\n        return 2 / (1 + Math.sin(2 * Math.PI / n))\n    }\n    \n    var dxxinv = function() {\n        var dx = (xmax - xmin) / (m - 1);\n        return 1 / (dx * dx)\n    }\n    \n    var dyyinv = function() {\n        var dy = (ymax - ymin) / (n - 1);\n        return 1 / (dy * dy);\n    }\n    \n    var dcent = function() {\n        return 1 / (2 * (dxxinv - dyyinv));\n    }\n    \n    var f = function(i, j) {\n        var x = xmin + i * dx ;\n        var y = ymin + j * dy;\n        return abs(x) > 0.5 || Math.abs(y) > 0.5 ? 0 : 1;\n    }\n    \n    // Common output and error routine\n    var outputanderror = function(filename, a, sn) {\n        \n    }\n    \n    function megaMatrix(Nx, Ny) {\n        this.Nx = Nx;\n        this.Ny = Ny;\n        this.origMat = this.initMat();\n        this.BMat = this.initBMat();\n        \n    }\n\n    \n    megaMatrix.prototype.genMat = function() {\n        var result = [];\n        for(var i = 0; i < this.Ny; i++) {\n            var temp = [];\n            for(var j = 0; j < this.Nx; j++) {\n                temp.push(aRandomNumber());\n            }\n            result.push(temp);\n        }\n        return result;\n    };\n\n    megaMatrix.prototype.genBMat = function() {\n        var result = [];\n        for(var i = 0; i < this.Ny; i++) {\n            result.push(aRandomNumber());\n        }\n        return result;\n    };\n\n\n    var genButton = $('#generate')\n\n    genButton.on('click', function() {\n        var x = $('x-slider .value').innerHTML;\n        var y = $('y-slider .value').innerHTML;\n        var origMatrix = megaMatrix(x, y);\n    });\n\n\n\n});","undoManager":{"mark":-1672,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":152,"column":86},"end":{"row":152,"column":87},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":152,"column":87},"end":{"row":152,"column":88},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":152,"column":88},"end":{"row":152,"column":89},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":152,"column":89},"end":{"row":152,"column":90},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":152,"column":90},"end":{"row":152,"column":91},"action":"insert","lines":["N"]}]}],[{"group":"doc","deltas":[{"start":{"row":152,"column":91},"end":{"row":152,"column":92},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":155,"column":27},"end":{"row":155,"column":28},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":155,"column":27},"end":{"row":155,"column":28},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":155,"column":28},"end":{"row":155,"column":29},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":155,"column":29},"end":{"row":155,"column":30},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":155,"column":30},"end":{"row":155,"column":31},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":155,"column":31},"end":{"row":155,"column":32},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":155,"column":32},"end":{"row":155,"column":33},"action":"insert","lines":["N"]}]}],[{"group":"doc","deltas":[{"start":{"row":155,"column":33},"end":{"row":155,"column":34},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":156,"column":41},"end":{"row":156,"column":42},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":156,"column":41},"end":{"row":156,"column":42},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":156,"column":42},"end":{"row":156,"column":43},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":156,"column":43},"end":{"row":156,"column":44},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":156,"column":44},"end":{"row":156,"column":45},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":156,"column":45},"end":{"row":156,"column":46},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":156,"column":46},"end":{"row":156,"column":47},"action":"insert","lines":["N"]}]}],[{"group":"doc","deltas":[{"start":{"row":156,"column":47},"end":{"row":156,"column":48},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":29},"end":{"row":157,"column":30},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":29},"end":{"row":157,"column":30},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":30},"end":{"row":157,"column":31},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":31},"end":{"row":157,"column":32},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":32},"end":{"row":157,"column":33},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":33},"end":{"row":157,"column":34},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":34},"end":{"row":157,"column":35},"action":"insert","lines":["N"]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":35},"end":{"row":157,"column":36},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":36},"end":{"row":157,"column":37},"action":"remove","lines":["∗"]},{"start":{"row":157,"column":36},"end":{"row":157,"column":37},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":37},"end":{"row":157,"column":38},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":157,"column":38},"end":{"row":157,"column":39},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":43},"end":{"row":160,"column":44},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":43},"end":{"row":160,"column":44},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":44},"end":{"row":160,"column":45},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":45},"end":{"row":160,"column":46},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":46},"end":{"row":160,"column":47},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":47},"end":{"row":160,"column":48},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":48},"end":{"row":160,"column":49},"action":"insert","lines":["N"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":49},"end":{"row":160,"column":50},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":61},"end":{"row":160,"column":62},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":61},"end":{"row":160,"column":62},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":62},"end":{"row":160,"column":63},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":63},"end":{"row":160,"column":64},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":64},"end":{"row":160,"column":65},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":65},"end":{"row":160,"column":66},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":66},"end":{"row":160,"column":67},"action":"insert","lines":["N"]}]}],[{"group":"doc","deltas":[{"start":{"row":160,"column":67},"end":{"row":160,"column":68},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":22},"end":{"row":164,"column":23},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":18},"end":{"row":164,"column":19},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":17},"end":{"row":34,"column":18},"action":"remove","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":16},"end":{"row":34,"column":17},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":15},"end":{"row":34,"column":16},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":14},"end":{"row":34,"column":15},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":13},"end":{"row":34,"column":14},"action":"remove","lines":["8"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":12},"end":{"row":34,"column":13},"action":"remove","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":12},"end":{"row":34,"column":13},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":13},"end":{"row":34,"column":14},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":14},"end":{"row":34,"column":15},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":24},"end":{"row":34,"column":25},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":26},"end":{"row":34,"column":27},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":32},"end":{"row":34,"column":33},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":31},"end":{"row":34,"column":32},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":30},"end":{"row":34,"column":31},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":29},"end":{"row":34,"column":30},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":28},"end":{"row":34,"column":29},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":28},"end":{"row":34,"column":29},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":29},"end":{"row":34,"column":30},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":7},"end":{"row":45,"column":9},"action":"remove","lines":[" // Computes the error if sn%error every==0","        if(sn % error.every==0) {","            var z, error = 0, ij;","            for(int j=1;j<n−1;j++) {","                for(int i=1;i<m−1;i++) {","                    ij=i+m∗j;","                    z=f(i,j)−a[ij]∗(2∗dxxinv+2∗dyyinv)","                    +dxxinv∗(a[ij−1]+a[ij+1])","                    +dyyinv∗(a[ij−m]+a[ij+m]);","                    error+=z∗z;","                }","            }","            cout << sn << \" \" << error∗dx∗dy << endl;","        }"]},{"start":{"row":32,"column":7},"end":{"row":32,"column":8},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":39,"column":36},"end":{"row":40,"column":0},"action":"insert","lines":["",""]},{"start":{"row":40,"column":0},"end":{"row":40,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":31},"end":{"row":27,"column":32},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":32},"end":{"row":27,"column":33},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":33},"end":{"row":27,"column":34},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":34},"end":{"row":27,"column":35},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":35},"end":{"row":27,"column":36},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":35},"end":{"row":27,"column":36},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":34},"end":{"row":27,"column":35},"action":"remove","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":33},"end":{"row":27,"column":34},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":32},"end":{"row":27,"column":33},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":31},"end":{"row":27,"column":32},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":31},"end":{"row":27,"column":32},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":32},"end":{"row":27,"column":33},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":33},"end":{"row":27,"column":34},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":34},"end":{"row":27,"column":35},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":35},"end":{"row":27,"column":36},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":31},"end":{"row":26,"column":32},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":30},"end":{"row":26,"column":31},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":30},"end":{"row":26,"column":31},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":26,"column":31},"end":{"row":27,"column":0},"action":"insert","lines":["",""]},{"start":{"row":27,"column":0},"end":{"row":27,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":8},"end":{"row":27,"column":9},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":9},"end":{"row":27,"column":10},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":10},"end":{"row":27,"column":11},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":11},"end":{"row":27,"column":12},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":4},"end":{"row":155,"column":5},"action":"remove","lines":["megaMatrix.prototype.Jacobi = function() {","        var i, j, ij, k;","        var error, u[this.Ny * this.Nx], v[this.Nx * this.Ny], z;","        var ∗a,∗b;","        // Set initial guess to be identically zero","        for(ij = 0; ij < this.Ny * this.Nx; ij++) u[ij] = v[ij] = 0;","        output and error(\"jacobi out\",u,0);","        ","        // Carry out Jacobi iterations","        for(k = 1; k <= total.iters; k++) {","            // Alternately flip input and output matrices","            if (k % 2 == 0) {","                a = u; ","                b = v;","            } else {","                a = v; ","                b = u;","            }","            // Compute Jacobi iteration","            for(j = 1; j < n − 1; j++) {","                for(i = 1; i < m − 1; i++) {","                    ij = i + this.Ny * j;","                    a[ij] = (f(i,j) + dxxinv * (b[ij − 1] + b[ij + 1]) + dyyinv * (b[ij − this.Ny] + b[ij + this.Ny])) * dcent;","                }","            }","        // Save and compute error if necessary","        output and error(\"jacobi out\",a,k);","        }","    }","","    megaMatrix.prototype.Gauss = function() {","        var i, j, ij, k;","        var error, u[this.Ny * this.Nx], z;","        ","        // Set initial guess to be identically zero","        for(ij = 0; ij < this.Nx * this.Ny; ij++) {","            u[ij] = 0;","        }","        outputanderror(\"gsrb out\",u,0);","        ","        // Compute Red−Black Gauss−Seidel iteration","        for(k = 1; k <= total.iters; k++) {","            for(j = 1 ; j < n − 1; j++) {","                for(i= 1 + (j & 1); i < m − 1; i+=2) {","                    16ij = i + this.Ny * j;","                    u[ij] = (f(i,j) + dxxinv * (u[ij − 1] + u[ij + 1]) + dyyinv * (u[ij − this.Ny] + u[ij + this.Ny])) * cent;","                }","            }","            for(j = 1; j < n − 1; j++) {","                for(i = 2 − (j & 1); i < this.Ny − 1 ; i+=2) {","                    ij = i + this.Ny * j;","                    u[ij] = (f(i,j) + dxxinv * (u[ij − 1] + u[ij + 1]) + dyyinv * (u[ij − this.Ny] + u[ij + this.Ny])) * dcent;","                }","            }","            // Save the result and compute error if necessary","            outputanderror(\"gsrb out\",u,k);","        }","    }","    ","    megaMatrix.prototype.SOR = function() {","        var i, j, ij, k;","        var error, u[this.Ny * this.Nx], z;","        ","        // Set initial guess to be identically zero","        for(ij = 0; ij < this.Ny * this.Nx; ij++) { ","            u[ij] = 0;","        }","        outputanderror(\"sor out\",u,0);","        ","        // Compute SOR Red−Black iterations","        for(k = 1; k <= total.iters; k++) {","            for(j = 1; j < this.Nx − 1; j++) {","                for(i = 1 + (j & 1); i < this.Ny − 1; i+=2) {","                    ij = i + this.Ny * j;","                    u[ij] = u[ij] * (1 − omega) + omega * (f(i,j) + dxxinv * ","                        (u[ij − 1] + u[ij + 1]) + dyyinv * (u[ij − this.Ny] + u[ij + this.Ny])) * dcent;","                }","            }","            for(j = 1; j < this.Nx − 1; j++) {","                for(i = 2 − (j & 1); i < this.Ny − 1; i += 2) {","                    ij = i + this.Ny * j;","                    u[ij] = u[ij] * (1 − omega) + omega * (f(i,j)","                        + dxxinv * (u[ij − 1] + u[ij + 1])","                        + dyyinv * (u[ij − this.Ny] + u[ij + this.Ny])) * dcent;","                }","            }","            // Save the result and compute error if necessary","            outputanderror(\"sor out\",u,k);","        }","    }"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":0},"end":{"row":66,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":65,"column":0},"end":{"row":66,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":0},"end":{"row":65,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":1,"column":4},"end":{"row":34,"column":5},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1422652855000}